<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Familia Burgada</title>
    <link rel="stylesheet" href="styles.css" />
  </head>

  <body>

     <div class="app">
    <!-- ÁRBOL + ZOOM -->
    <div class="tree-wrapper">
        <div class="tree-toolbar">
          <div class="toolbar-left">
            <span class="section-title" style="margin-bottom:0;">Familia Burgada</span>
            <div style="margin-top:4px;font-size:0.8rem;color:#6b7280;">
              Generación:
              <select id="generation-filter" style="font-size:0.8rem;padding:2px 4px;border-radius:999px;border:1px solid #d1d5db;">
                <option value="all">Todas</option>
                <!-- Las opciones reales se rellenan desde JS -->
              </select>
            </div>
          </div>
          <div class="toolbar-right">
            <button id="zoom-out" class="zoom-btn">-</button>
            <button id="zoom-reset" class="zoom-btn">Reset</button>
            <button id="zoom-in" class="zoom-btn">+</button>
            <span id="zoom-level" class="zoom-level-label">100%</span>
          </div>
        </div>

      <div class="tree-scroll">
        <div id="tree-inner" class="tree-inner">
          <div id="tree" class="tree">
            <!-- aquí se inyecta el UL del árbol -->
          </div>
        </div>
      </div>
    </div>

    <!-- INFO ABAJO -->
    <div class="info-container">
      <div class="section-title">Detalles de la persona</div>

      <div id="info-placeholder" class="info-placeholder">
        Haz clic en alguien del árbol para ver su información.
      </div>

      <div id="info-card" class="info-card hidden">
        <div class="info-card-header">
          <img id="info-photo" class="info-card-photo" src="" alt="" />
          <div class="info-card-main">
            <div class="badge" id="info-relation"></div>
            <div class="info-card-name" id="info-name"></div>
            <div class="info-card-sub" id="info-generation"></div>
            <div class="info-card-sub" id="info-dates"></div>
          </div>
        </div>

        <div class="info-card-body" id="info-description"></div>

        <div class="info-card-meta">
          <div>
            <div class="meta-label">Lugar de nacimiento</div>
            <div id="info-birthplace"></div>
          </div>
          <div>
            <div class="meta-label">Pareja(s)</div>
            <div id="info-spouses"></div>
          </div>
          <div>
            <div class="meta-label">Notas</div>
            <div id="info-notes"></div>
          </div>
        </div>
      </div>
         <!-- FORMULARIO SOLICITUD CAMBIO -->
    <div class="request-container">
      <div class="section-title">Solicitar cambio de información</div>
      <p style="font-size:0.8rem;color:#6b7280;margin-bottom:8px;">
        Rellena este formulario para informar de un nuevo nacimiento, fallecimiento o cambio de datos.
        El sistema generará un pequeño JSON que el administrador puede usar para actualizar el fichero <code>people.json</code>.
      </p>

      <form id="request-form">
        <div>
          <label for="req-reporter">Tu nombre</label>
          <input id="req-reporter" type="text" placeholder="Ej: Ana Pérez" required />
        </div>

        <div>
          <label for="req-type">Tipo de cambio</label>
          <select id="req-type" required>
            <option value="">Selecciona...</option>
            <option value="update-person">Modificar datos de una persona</option>
            <option value="new-birth">Nuevo nacimiento</option>
            <option value="death">Fallecimiento</option>
            <option value="other">Otro</option>
          </select>
        </div>

        <div>
          <label for="req-person-id">Persona relacionada (ID, si lo sabes)</label>
          <input id="req-person-id" type="text" placeholder="Ej: 3" />
        </div>

        <div>
          <label for="req-person-name">Persona relacionada (nombre)</label>
          <input id="req-person-name" type="text" placeholder="Ej: Ana Pérez o 'hijo de Juan y María'" />
        </div>

        <div style="grid-column:1 / -1;">
          <label for="req-details">Detalles</label>
          <textarea id="req-details"
            placeholder="Ej: Nuevo nacimiento: Nombre, fecha, padres, lugar...&#10;O: Actualizar fecha de nacimiento de Ana, debería ser 1975-01-10."></textarea>
        </div>

        <button type="submit">Generar solicitud</button>
      </form>

      <div id="request-output" class="request-output">
        Aquí aparecerá el JSON de la solicitud para copiar/pegar.
      </div>
    </div>
    </div>
  </div>

    <script src="script.js"></script>
  </body>
</html>
